<?php
include 'includes/config.php';
include 'includes/header.php';

/* 1. ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏à‡∏≤‡∏Å URL ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏≠‡∏á */
$category_filter = isset($_GET['category']) ? trim($_GET['category']) : "";

/* 2. ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ 7 ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ */
$categories = ["‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏¢‡∏∑‡∏î‡πÅ‡∏Ç‡∏ô‡∏¢‡∏≤‡∏ß", "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Ñ‡∏≤‡∏£‡πå‡∏î‡∏¥‡πÅ‡∏Å‡∏ô", "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏™‡πÄ‡∏ß‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡πå", "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Æ‡∏π‡πâ‡∏î", "‡πÅ‡∏à‡πá‡∏Ñ‡πÄ‡∏Å‡πá‡∏ï‡∏¢‡∏µ‡∏ô‡∏™‡πå", "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡πÑ‡∏´‡∏°‡∏û‡∏£‡∏°", "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Å‡∏±‡∏ô‡∏•‡∏°"];

/* 3. ‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏à‡∏≥‡∏•‡∏≠‡∏á */
$all_products = [
    // ‡∏´‡∏°‡∏ß‡∏î‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏¢‡∏∑‡∏î‡πÅ‡∏Ç‡∏ô‡∏¢‡∏≤‡∏ß
    ["name" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏¢‡∏∑‡∏î‡πÅ‡∏Ç‡∏ô‡∏¢‡∏≤‡∏ß‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß", "price" => 150, "cat" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏¢‡∏∑‡∏î‡πÅ‡∏Ç‡∏ô‡∏¢‡∏≤‡∏ß", "img" => "uploads/‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏¢‡∏∑‡∏î‡πÅ‡∏Ç‡∏ô‡∏¢‡∏≤‡∏ß‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß.jpg", "stock" => 50, "desc" => "‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏°‡∏¥‡∏ô‡∏¥‡∏°‡∏≠‡∏• ‡πÉ‡∏™‡πà‡∏™‡∏ö‡∏≤‡∏¢"],
    ["name" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏¢‡∏∑‡∏î‡πÅ‡∏Ç‡∏ô‡∏¢‡∏≤‡∏ß‡∏î‡∏≥", "price" => 150, "cat" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏¢‡∏∑‡∏î‡πÅ‡∏Ç‡∏ô‡∏¢‡∏≤‡∏ß", "img" => "uploads/‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏¢‡∏∑‡∏î‡πÅ‡∏Ç‡∏ô‡∏¢‡∏≤‡∏ß‡∏™‡∏µ‡∏î‡∏≥.jpg", "stock" => 50, "desc" => "‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏°‡∏¥‡∏ô‡∏¥‡∏°‡∏≠‡∏• ‡πÉ‡∏™‡πà‡∏™‡∏ö‡∏≤‡∏¢"],
    ["name" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏¢‡∏∑‡∏î‡πÅ‡∏Ç‡∏ô‡∏¢‡∏≤‡∏ß‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•", "price" => 150, "cat" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏¢‡∏∑‡∏î‡πÅ‡∏Ç‡∏ô‡∏¢‡∏≤‡∏ß", "img" => "uploads/‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏¢‡∏∑‡∏î‡πÅ‡∏Ç‡∏ô‡∏¢‡∏≤‡∏ß‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•.jpg", "stock" => 50, "desc" => "‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏°‡∏¥‡∏ô‡∏¥‡∏°‡∏≠‡∏• ‡πÉ‡∏™‡πà‡∏™‡∏ö‡∏≤‡∏¢"],
    
    // ‡∏´‡∏°‡∏ß‡∏î‡∏ó‡∏µ‡πà 2: ‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Ñ‡∏≤‡∏£‡πå‡∏î‡∏¥‡πÅ‡∏Å‡∏ô
    ["name" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Ñ‡∏≤‡∏£‡πå‡∏î‡∏¥‡πÅ‡∏Å‡∏ô‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß", "price" => 225, "cat" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Ñ‡∏≤‡∏£‡πå‡∏î‡∏¥‡πÅ‡∏Å‡∏ô", "img" => "uploads/‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Ñ‡∏≤‡∏£‡πå‡∏î‡∏¥‡πÅ‡∏Å‡∏ô‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß.jpg", "stock" => 40, "desc" => "‡∏Ñ‡∏≤‡∏£‡πå‡∏î‡∏¥‡πÅ‡∏Å‡∏ô‡πÑ‡∏´‡∏°‡∏û‡∏£‡∏°‡∏ñ‡∏±‡∏Å‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î"],
    ["name" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Ñ‡∏≤‡∏£‡πå‡∏î‡∏¥‡πÅ‡∏Å‡∏ô‡∏™‡∏µ‡πÄ‡∏ó‡∏≤", "price" => 225, "cat" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Ñ‡∏≤‡∏£‡πå‡∏î‡∏¥‡πÅ‡∏Å‡∏ô", "img" => "uploads/‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Ñ‡∏≤‡∏£‡πå‡∏î‡∏¥‡πÅ‡∏Å‡∏ô‡∏™‡∏µ‡πÄ‡∏ó‡∏≤.jpg", "stock" => 40, "desc" => "‡∏Ñ‡∏≤‡∏£‡πå‡∏î‡∏¥‡πÅ‡∏Å‡∏ô‡πÑ‡∏´‡∏°‡∏û‡∏£‡∏°‡∏ñ‡∏±‡∏Å‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î"],
    ["name" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Ñ‡∏≤‡∏£‡πå‡∏î‡∏¥‡πÅ‡∏Å‡∏ô‡∏™‡∏µ‡πÅ‡∏î‡∏á", "price" => 225, "cat" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Ñ‡∏≤‡∏£‡πå‡∏î‡∏¥‡πÅ‡∏Å‡∏ô", "img" => "uploads/‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Ñ‡∏≤‡∏£‡πå‡∏î‡∏¥‡πÅ‡∏Å‡∏ô‡∏™‡∏µ‡πÅ‡∏î‡∏á.jpg", "stock" => 40, "desc" => "‡∏Ñ‡∏≤‡∏£‡πå‡∏î‡∏¥‡πÅ‡∏Å‡∏ô‡πÑ‡∏´‡∏°‡∏û‡∏£‡∏°‡∏ñ‡∏±‡∏Å‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î"],
    
    // ‡∏´‡∏°‡∏ß‡∏î‡∏ó‡∏µ‡πà 3: ‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏™‡πÄ‡∏ß‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡πå
    ["name" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏™‡πÄ‡∏ß‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß", "price" => 220, "cat" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏™‡πÄ‡∏ß‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡πå", "img" => "uploads/‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏™‡πÄ‡∏ß‡∏Å‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß.jpg", "stock" => 30, "desc" => "‡∏™‡πÑ‡∏ï‡∏•‡πå‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å ‡∏•‡∏≤‡∏¢‡∏™‡∏Å‡∏£‡∏µ‡∏ô"],
    ["name" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏™‡πÄ‡∏ß‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏™‡∏µ‡∏î‡∏≥", "price" => 220, "cat" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏™‡πÄ‡∏ß‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡πå", "img" => "uploads/‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏™‡πÄ‡∏ß‡∏Å‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏™‡∏µ‡∏î‡∏≥.jpg", "stock" => 30, "desc" => "‡∏™‡πÑ‡∏ï‡∏•‡πå‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å ‡∏•‡∏≤‡∏¢‡∏™‡∏Å‡∏£‡∏µ‡∏ô"],
    ["name" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏™‡πÄ‡∏ß‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π", "price" => 220, "cat" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏™‡πÄ‡∏ß‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡πå", "img" => "uploads/‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏™‡πÄ‡∏ß‡∏Å‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π.jpg", "stock" => 30, "desc" => "‡∏™‡πÑ‡∏ï‡∏•‡πå‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å ‡∏•‡∏≤‡∏¢‡∏™‡∏Å‡∏£‡∏µ‡∏ô"],
    
    // ‡∏´‡∏°‡∏ß‡∏î‡∏ó‡∏µ‡πà 4: ‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Æ‡∏π‡πâ‡∏î
    ["name" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Æ‡∏π‡πâ‡∏î‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß", "price" => 160, "cat" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Æ‡∏π‡πâ‡∏î", "img" => "uploads/‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Æ‡∏π‡πâ‡∏î‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß.jpg", "stock" => 25, "desc" => "‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏™‡∏ï‡∏£‡∏µ‡∏ó‡πÄ‡∏ó‡πà‡πÜ"],
    ["name" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Æ‡∏π‡πâ‡∏î‡∏™‡∏µ‡∏î‡∏≥", "price" => 160, "cat" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Æ‡∏π‡πâ‡∏î", "img" => "uploads/‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Æ‡∏π‡πâ‡∏î‡∏™‡∏µ‡∏î‡∏≥.jpg", "stock" => 25, "desc" => "‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏™‡∏ï‡∏£‡∏µ‡∏ó‡πÄ‡∏ó‡πà‡πÜ"],
    ["name" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Æ‡∏π‡πâ‡∏î‡∏™‡∏µ‡∏ü‡πâ‡∏≤", "price" => 160, "cat" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Æ‡∏π‡πâ‡∏î", "img" => "uploads/‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Æ‡∏π‡πâ‡∏î‡∏™‡∏µ‡∏ü‡πâ‡∏≤.jpg", "stock" => 25, "desc" => "‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏™‡∏ï‡∏£‡∏µ‡∏ó‡πÄ‡∏ó‡πà‡πÜ"],
    
    // ‡∏´‡∏°‡∏ß‡∏î‡∏ó‡∏µ‡πà 5: ‡πÅ‡∏à‡πá‡∏Ñ‡πÄ‡∏Å‡πá‡∏ï‡∏¢‡∏µ‡∏ô‡∏™‡πå
    ["name" => "‡πÅ‡∏à‡πá‡∏Ñ‡πÄ‡∏Å‡πá‡∏ï‡∏¢‡∏µ‡∏ô‡∏™‡πå‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß", "price" => 549, "cat" => "‡πÅ‡∏à‡πá‡∏Ñ‡πÄ‡∏Å‡πá‡∏ï‡∏¢‡∏µ‡∏ô‡∏™‡πå", "img" => "uploads/‡πÅ‡∏à‡πá‡∏Ñ‡πÄ‡∏Å‡πá‡∏ï‡∏¢‡∏µ‡∏ô‡∏™‡πå‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß.jpg", "stock" => 15, "desc" => "‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏°‡∏¥‡∏ô‡∏¥‡∏°‡∏≠‡∏•‡πÄ‡∏Å‡∏≤‡∏´‡∏•‡∏µ"],
    ["name" => "‡πÅ‡∏à‡πá‡∏Ñ‡πÄ‡∏Å‡πá‡∏ï‡∏¢‡∏µ‡∏ô‡∏™‡πå‡∏™‡∏µ‡∏î‡∏≥", "price" => 549, "cat" => "‡πÅ‡∏à‡πá‡∏Ñ‡πÄ‡∏Å‡πá‡∏ï‡∏¢‡∏µ‡∏ô‡∏™‡πå", "img" => "uploads/‡πÅ‡∏à‡πá‡∏Ñ‡πÄ‡∏Å‡πá‡∏ï‡∏¢‡∏µ‡∏ô‡∏™‡πå‡∏™‡∏µ‡∏î‡∏≥.jpg", "stock" => 15, "desc" => "‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏°‡∏¥‡∏ô‡∏¥‡∏°‡∏≠‡∏•‡πÄ‡∏Å‡∏≤‡∏´‡∏•‡∏µ"],
    ["name" => "‡πÅ‡∏à‡πá‡∏Ñ‡πÄ‡∏Å‡πá‡∏ï‡∏¢‡∏µ‡∏ô‡∏™‡πå‡∏™‡∏µ‡∏ü‡πâ‡∏≤‡∏≠‡πà‡∏≠‡∏ô", "price" => 549, "cat" => "‡πÅ‡∏à‡πá‡∏Ñ‡πÄ‡∏Å‡πá‡∏ï‡∏¢‡∏µ‡∏ô‡∏™‡πå", "img" => "uploads/‡πÅ‡∏à‡πá‡∏Ñ‡πÄ‡∏Å‡πá‡∏ï‡∏¢‡∏µ‡∏ô‡∏™‡πå‡∏™‡∏µ‡∏ü‡πâ‡∏≤‡∏≠‡πà‡∏≠‡∏ô.jpg", "stock" => 15, "desc" => "‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏°‡∏¥‡∏ô‡∏¥‡∏°‡∏≠‡∏•‡πÄ‡∏Å‡∏≤‡∏´‡∏•‡∏µ"],
    
    // ‡∏´‡∏°‡∏ß‡∏î‡∏ó‡∏µ‡πà 6: ‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡πÑ‡∏´‡∏°‡∏û‡∏£‡∏°
    ["name" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡πÑ‡∏´‡∏°‡∏û‡∏£‡∏°‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß", "price" => 189, "cat" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡πÑ‡∏´‡∏°‡∏û‡∏£‡∏°", "img" => "uploads/‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡πÑ‡∏´‡∏°‡∏û‡∏£‡∏°‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß.jpg", "stock" => 20, "desc" => "‡∏™‡πÑ‡∏ï‡∏•‡πå‡πÄ‡∏Å‡∏≤‡∏´‡∏•‡∏µ ‡∏´‡∏ß‡∏≤‡∏ô‡πÜ"],
    ["name" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡πÑ‡∏´‡∏°‡∏û‡∏£‡∏°‡∏™‡∏µ‡∏î‡∏≥", "price" => 189, "cat" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡πÑ‡∏´‡∏°‡∏û‡∏£‡∏°", "img" => "uploads/‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡πÑ‡∏´‡∏°‡∏û‡∏£‡∏°‡∏™‡∏µ‡∏î‡∏≥.jpg", "stock" => 20, "desc" => "‡∏™‡πÑ‡∏ï‡∏•‡πå‡πÄ‡∏Å‡∏≤‡∏´‡∏•‡∏µ ‡∏´‡∏ß‡∏≤‡∏ô‡πÜ"],
    ["name" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡πÑ‡∏´‡∏°‡∏û‡∏£‡∏°‡∏ä‡∏°‡∏û‡∏π", "price" => 189, "cat" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡πÑ‡∏´‡∏°‡∏û‡∏£‡∏°", "img" => "uploads/‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡πÑ‡∏´‡∏°‡∏û‡∏£‡∏°‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π.jpg", "stock" => 20, "desc" => "‡∏™‡πÑ‡∏ï‡∏•‡πå‡πÄ‡∏Å‡∏≤‡∏´‡∏•‡∏µ ‡∏´‡∏ß‡∏≤‡∏ô‡πÜ"],
    
    // ‡∏´‡∏°‡∏ß‡∏î‡∏ó‡∏µ‡πà 7: ‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Å‡∏±‡∏ô‡∏•‡∏°
    ["name" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Å‡∏±‡∏ô‡∏•‡∏°‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π‡∏≠‡πà‡∏≠‡∏ô", "price" => 285, "cat" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Å‡∏±‡∏ô‡∏•‡∏°", "img" => "uploads/‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Å‡∏±‡∏ô‡∏•‡∏°‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π‡∏≠‡πà‡∏≠‡∏ô.jpg", "stock" => 10, "desc" => "‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏´‡∏ß‡∏≤‡∏ô‡∏ã‡πà‡∏≠‡∏ô‡πÄ‡∏ó‡πà"],
    ["name" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Å‡∏±‡∏ô‡∏•‡∏°‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡πÅ‡∏î‡∏á", "price" => 285, "cat" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Å‡∏±‡∏ô‡∏•‡∏°", "img" => "uploads/‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Å‡∏±‡∏ô‡∏•‡∏°‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡πÅ‡∏î‡∏á.jpg", "stock" => 10, "desc" => "‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏´‡∏ß‡∏≤‡∏ô‡∏ã‡πà‡∏≠‡∏ô‡πÄ‡∏ó‡πà"],
    ["name" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Å‡∏±‡∏ô‡∏•‡∏°‡∏™‡∏µ‡∏î‡∏≥", "price" => 285, "cat" => "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Å‡∏±‡∏ô‡∏•‡∏°", "img" => "uploads/‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Å‡∏±‡∏ô‡∏•‡∏°‡∏™‡∏µ‡∏î‡∏≥.jpg", "stock" => 10, "desc" => "‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏´‡∏ß‡∏≤‡∏ô‡∏ã‡πà‡∏≠‡∏ô‡πÄ‡∏ó‡πà"]
];

/* 4. ‡∏ï‡∏£‡∏£‡∏Å‡∏∞‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏≠‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ï‡∏≤‡∏°‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà */
$display_items = [];
foreach ($all_products as $p) {
    if ($category_filter == "" || $p['cat'] == $category_filter) {
        $display_items[] = $p;
    }
}
?>

<style>
.products-container { max-width: 1200px; margin: 40px auto; padding: 0 15px; font-family: 'Kanit', sans-serif; }
.products-container h2 { text-align: center; color: #2e86c1; margin-bottom: 25px; }
.category-menu { text-align: center; margin-bottom: 30px; }
.category-menu a { display: inline-block; margin: 6px; padding: 8px 20px; border-radius: 25px; text-decoration: none; color: #2e86c1; font-weight: bold; border: 1px solid #2e86c1; transition: 0.3s; }
.category-menu a:hover, .category-menu a.active { background: #2e86c1; color: white; }

.products-grid { 
    display: flex; 
    flex-wrap: wrap; 
    justify-content: center; 
    gap: 25px; 
}

.card { 
    background: white; 
    border-radius: 15px; 
    padding: 15px; 
    text-align: center; 
    box-shadow: 0 5px 15px rgba(0,0,0,0.08); 
    transition: 0.3s; 
    display: flex; 
    flex-direction: column; 
    width: 280px; 
}
.card:hover { transform: translateY(-8px); }
.card img { width: 100%; height: 230px; object-fit: cover; border-radius: 10px; background: #f9f9f9; }
.card h4 { margin: 15px 0 5px; font-size: 17px; color: #333; height: 40px; overflow: hidden; }
.price { color: #e74c3c; font-weight: bold; font-size: 19px; margin-bottom: 15px; }

/* ‡∏õ‡∏£‡∏±‡∏ö‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Å‡∏±‡∏ô */
.button-group {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    margin-top: auto;
}

.btn-detail, .btn-buy { 
    padding: 10px; 
    border-radius: 8px; 
    cursor: pointer; 
    font-weight: bold; 
    text-decoration: none; 
    font-size: 13px; 
    text-align: center; 
    transition: 0.3s;
}

.btn-detail { 
    background: #f1f1f1; 
    color: #333; 
    border: 1px solid #ddd;
}
.btn-detail:hover { background: #e0e0e0; }

.btn-buy { 
    background: #2e86c1; 
    color: white; 
    border: none;
}
.btn-buy:hover { background: #21618c; }
</style>

<div class="products-container">
    <h2>üß• <?= empty($category_filter) ? "‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î" : htmlspecialchars($category_filter) ?></h2>

    <div class="category-menu">
        <a href="products.php" class="<?= empty($category_filter) ? 'active' : '' ?>">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</a>
        <?php foreach($categories as $cat): ?>
            <a href="products.php?category=<?= urlencode($cat); ?>" class="<?= ($category_filter === $cat) ? 'active' : '' ?>">
                <?= $cat; ?>
            </a>
        <?php endforeach; ?>
    </div>

    <div class="products-grid">
        <?php foreach($display_items as $item): ?>
            <div class="card">
                <img src="<?= $item['img']; ?>" onerror="this.src='https://via.placeholder.com/250x230?text=No+Image'" alt="<?= $item['name']; ?>">
                <h4><?= $item['name']; ?></h4>
                <p class="price"><?= number_format($item['price']); ?> ‡∏ö‡∏≤‡∏ó</p>
                
                <div class="button-group">
                    <a href="product_detail.php?name=<?= urlencode($item['name']); ?>" class="btn-detail">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</a>
                    <a href="cart.php?action=add&name=<?= urlencode($item['name']); ?>&price=<?= $item['price']; ?>" class="btn-buy">üõí ‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</a>
                </div>
            </div>
        <?php endforeach; ?>
    </div>
</div>

<?php include 'includes/footer.php'; ?>